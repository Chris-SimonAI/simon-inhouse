import{c as M,j as e,R as et,T as tt,C as st,a as P,b as at,X as ie,d as rt,D as nt,P as ot,O as it,r as l,S as $e,I as A,B as V,e as lt,f as xe,u as ct,g as Ie,h as dt,i as mt,k as fe,l as ge,A as Y,m as G,n as ht,o as me,p as ut,q as xt,s as ft,t as te,L as U,v as gt,w as Te,x as Me,y as pt,z as bt,E as yt,F as jt,G as vt,M as wt,H as he,J as Ee,K as oe,N as Nt,Q as kt,U as Ct}from"./index-zfWQKyph.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$t=M("arrow-right",St);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Tt=M("chef-hat",It);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Et=M("credit-card",Mt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],At=M("life-buoy",Ft);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fe=M("map-pin",zt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Ot=M("menu",Rt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2",key:"2no95f"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1",key:"zh9wx"}],["path",{d:"M18 8v7",key:"o5zi4n"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 19v2",key:"1dawf0"}]],Ae=M("microwave",_t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M5 12h14",key:"1ays0h"}]],ze=M("minus",Lt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Re=M("package",Pt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]],Oe=M("refrigerator",Ht);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Yt=M("send",qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Ut=M("shirt",Vt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"m4 4 2.5 2.5",key:"uv2vmf"}],["path",{d:"M13.5 6.5a4.95 4.95 0 0 0-7 7",key:"frdkwv"}],["path",{d:"M15 5 5 15",key:"1ag8rq"}],["path",{d:"M14 17v.01",key:"eokfpp"}],["path",{d:"M10 16v.01",key:"14uyyl"}],["path",{d:"M13 13v.01",key:"1v1k97"}],["path",{d:"M16 10v.01",key:"5169yg"}],["path",{d:"M11 20v.01",key:"cj92p8"}],["path",{d:"M17 14v.01",key:"11cswd"}],["path",{d:"M20 11v.01",key:"19e0od"}]],Dt=M("shower-head",Bt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],_e=M("tv",Wt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Le=M("wifi",Gt);function Pe({...a}){return e.jsx(et,{"data-slot":"sheet",...a})}function He({...a}){return e.jsx(tt,{"data-slot":"sheet-trigger",...a})}function Xt({...a}){return e.jsx(ot,{"data-slot":"sheet-portal",...a})}function Zt({className:a,...t}){return e.jsx(it,{"data-slot":"sheet-overlay",className:P("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function qe({className:a,children:t,side:s="right",...r}){return e.jsxs(Xt,{children:[e.jsx(Zt,{}),e.jsxs(st,{"data-slot":"sheet-content",className:P("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...r,children:[t,e.jsxs(at,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(ie,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Kt({className:a,...t}){return e.jsx("div",{"data-slot":"sheet-header",className:P("flex flex-col gap-1.5 p-4",a),...t})}function Ye({className:a,...t}){return e.jsx(rt,{"data-slot":"sheet-title",className:P("text-foreground font-semibold",a),...t})}function Ve({className:a,...t}){return e.jsx(nt,{"data-slot":"sheet-description",className:P("text-muted-foreground text-sm",a),...t})}function Qt({cartCount:a=0,onCartClick:t,onLogoClick:s,onNavigate:r,locationName:c}){const[n,m]=l.useState(!1),u=f=>{m(!1),r==null||r(f)};return e.jsxs("header",{className:"flex items-center justify-between py-4 px-6 sticky top-0 z-50 bg-white/80 backdrop-blur-md",children:[e.jsxs("button",{onClick:t,className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors relative",children:[e.jsx($e,{className:"w-5 h-5 text-gray-800"}),a>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-black text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white",children:a})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("button",{onClick:s,className:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black rounded-full flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),c&&e.jsx("span",{className:"text-sm font-medium text-gray-600 max-w-[120px] truncate",children:c})]})}),e.jsxs(Pe,{open:n,onOpenChange:m,children:[e.jsx(He,{asChild:!0,children:e.jsx("button",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:e.jsx(Ot,{className:"w-5 h-5 text-gray-800"})})}),e.jsx(qe,{side:"left",className:"bg-black text-white border-r-gray-800 w-[240px] sm:w-[300px] p-0",children:e.jsxs("div",{className:"flex flex-col h-full p-6",children:[e.jsx(Ye,{className:"text-2xl font-serif font-bold text-white text-left mb-8",children:"Simon"}),e.jsx(Ve,{className:"sr-only",children:"Navigation menu for Simon Hotels services and support."}),e.jsx("div",{className:"flex-1",children:e.jsx("nav",{className:"flex flex-col space-y-6",children:[{label:"Home",value:"home"},{label:"Order Food",value:"restaurants"},{label:"Amenities",value:"amenities"},{label:"Ask Simon",value:"chat"},{label:"Contact Support",value:"support"}].map(f=>e.jsx("button",{onClick:()=>u(f.value),className:"text-xl font-serif font-bold text-white hover:text-gray-300 transition-colors text-left",children:f.label},f.label))})}),e.jsx("div",{className:"text-xs text-gray-500 font-sans mt-auto",children:"© 2024 Simon Hotels"})]})})]})]})}const je="https://placehold.co/40x40/000/fff?text=OP";function Jt({isOpen:a,onOpenChange:t,onNavigate:s}){const[r,c]=l.useState([{id:"1",text:"Welcome! I'm Simon, your personal concierge. How can I help you today?",sender:"bot",timestamp:new Date}]),[n,m]=l.useState(""),u=l.useRef(null);l.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[r,a]);const f=d=>{if(!d.trim())return;const g={id:Date.now().toString(),text:d,sender:"user",timestamp:new Date};c(o=>[...o,g]),m(""),setTimeout(()=>{let o="I'm sorry, I didn't quite catch that. Could you try rephrasing?",j;const i=d.toLowerCase();i.includes("order")||i.includes("food")||i.includes("restaurant")||i.includes("pizza")||i.includes("pepe")?(o="You can order food from our local restaurants by tapping 'Order Food' below.",j={label:"Order Food",view:"restaurants"}):i.includes("amenities")||i.includes("pool")||i.includes("gym")?(o="Check out our Amenities page for pool schedules, gym access, and more.",j={label:"View Amenities",view:"amenities"}):i.includes("support")||i.includes("help")||i.includes("contact")?(o="Our support team is here to help 24/7.",j={label:"Contact Support",view:"support"}):(i.includes("hello")||i.includes("hi"))&&(o="Hello there! Let me know if you need anything.");const w={id:(Date.now()+1).toString(),text:o,sender:"bot",timestamp:new Date,action:j};c(p=>[...p,w])},1e3)},x=["How do I order food?","What amenities are available?","Contact support"];return e.jsxs(Pe,{open:a,onOpenChange:t,children:[e.jsx(He,{asChild:!0,children:e.jsx("button",{className:"fixed bottom-24 right-6 w-14 h-14 bg-black rounded-full shadow-2xl flex items-center justify-center z-40 hover:scale-105 transition-transform active:scale-95 overflow-hidden ring-4 ring-white/20",children:e.jsx("img",{src:je,alt:"Chat",className:"w-full h-full object-cover"})})}),e.jsxs(qe,{side:"bottom",className:"h-[85vh] p-0 rounded-t-[20px] flex flex-col bg-gray-50 border-t-0 w-full sm:max-w-md sm:mx-auto",children:[e.jsxs(Kt,{className:"px-6 py-4 bg-black text-white rounded-t-[20px] flex flex-row items-center justify-between space-y-0 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 overflow-hidden p-0.5 border border-white/20",children:e.jsx("img",{src:je,alt:"Simon",className:"w-full h-full object-cover rounded-full"})}),e.jsxs("div",{className:"text-left",children:[e.jsx(Ye,{className:"text-white text-lg font-serif leading-none",children:"Simon"}),e.jsx(Ve,{className:"text-gray-400 text-xs mt-1",children:"AI Concierge • Online"})]})]}),e.jsx("button",{onClick:()=>t(!1),className:"text-white/60 hover:text-white transition-colors p-2 -mr-2 cursor-pointer","aria-label":"Close",children:e.jsx(ie,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",ref:u,children:[e.jsx("div",{className:"text-center text-xs text-gray-400 my-4",children:"Today"}),r.map(d=>e.jsxs("div",{className:`flex flex-col ${d.sender==="user"?"items-end":"items-start"}`,children:[e.jsx("div",{className:`max-w-[85%] px-4 py-3 rounded-2xl text-sm leading-relaxed ${d.sender==="user"?"bg-black text-white rounded-tr-sm":"bg-white text-gray-800 shadow-sm border border-gray-100 rounded-tl-sm"}`,children:d.text}),d.action&&e.jsx("button",{onClick:()=>s(d.action.view),className:"mt-2 text-xs font-bold uppercase tracking-wider bg-black text-white px-4 py-2 rounded-full hover:bg-gray-800 transition-colors shadow-sm ml-1",children:d.action.label})]},d.id)),r.length===1&&e.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[e.jsx("p",{className:"text-xs text-gray-500 ml-1 mb-1 font-medium",children:"Suggested questions:"}),x.map(d=>e.jsx("button",{onClick:()=>f(d),className:"text-left bg-white border border-gray-200 text-gray-700 px-4 py-3 rounded-xl text-sm hover:bg-gray-50 transition-colors shadow-sm active:bg-gray-100",children:d},d))]})]}),e.jsx("div",{className:"p-4 bg-white border-t border-gray-100 pb-8 sm:pb-4 shrink-0",children:e.jsxs("form",{onSubmit:d=>{d.preventDefault(),f(n)},className:"flex items-center gap-2",children:[e.jsx(A,{value:n,onChange:d=>m(d.target.value),placeholder:"Ask Simon...",className:"flex-1 bg-gray-50 border-gray-200 focus-visible:ring-black focus-visible:ring-offset-0 rounded-full px-5 h-12 text-base"}),e.jsx(V,{type:"submit",size:"icon",className:"rounded-full w-12 h-12 bg-black hover:bg-gray-800 shrink-0 shadow-sm",disabled:!n.trim(),children:e.jsx(Yt,{className:"w-5 h-5 ml-0.5"})})]})})]})]})}var pe="Avatar",[es]=lt(pe),[ts,Ue]=es(pe),Be=l.forwardRef((a,t)=>{const{__scopeAvatar:s,...r}=a,[c,n]=l.useState("idle");return e.jsx(ts,{scope:s,imageLoadingStatus:c,onImageLoadingStatusChange:n,children:e.jsx(xe.span,{...r,ref:t})})});Be.displayName=pe;var De="AvatarImage",We=l.forwardRef((a,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:c=()=>{},...n}=a,m=Ue(De,s),u=ss(r,n.referrerPolicy),f=ct(x=>{c(x),m.onImageLoadingStatusChange(x)});return Ie(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?e.jsx(xe.img,{...n,ref:t,src:r}):null});We.displayName=De;var Ge="AvatarFallback",Xe=l.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:r,...c}=a,n=Ue(Ge,s),[m,u]=l.useState(r===void 0);return l.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(f)}},[r]),m&&n.imageLoadingStatus!=="loaded"?e.jsx(xe.span,{...c,ref:t}):null});Xe.displayName=Ge;function ss(a,t){const[s,r]=l.useState("idle");return Ie(()=>{if(!a){r("error");return}let c=!0;const n=new window.Image,m=u=>()=>{c&&r(u)};return r("loading"),n.onload=m("loaded"),n.onerror=m("error"),n.src=a,t&&(n.referrerPolicy=t),()=>{c=!1}},[a,t]),s}var as=Be,rs=We,ns=Xe;function os({className:a,...t}){return e.jsx(as,{"data-slot":"avatar",className:P("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...t})}function is({className:a,...t}){return e.jsx(rs,{"data-slot":"avatar-image",className:P("aspect-square size-full",a),...t})}function ls({className:a,...t}){return e.jsx(ns,{"data-slot":"avatar-fallback",className:P("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}const cs=mt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ds({className:a,variant:t,asChild:s=!1,...r}){const c=s?dt:"span";return e.jsx(c,{"data-slot":"badge",className:P(cs({variant:t}),a),...r})}function Ze({title:a,subtitle:t,image:s,time:r,chefImage:c,badgeText:n,onClick:m}){return e.jsxs("div",{onClick:m,className:`relative w-full h-48 rounded-3xl overflow-hidden shadow-md shrink-0 ${m?"cursor-pointer transition-transform active:scale-95":""}`,children:[e.jsx("img",{src:s,alt:a,className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[n&&e.jsx(ds,{variant:"secondary",className:"bg-white/90 text-black hover:bg-white px-3 py-1 text-xs font-semibold rounded-full shadow-sm backdrop-blur-sm",children:n}),c&&e.jsxs(os,{className:"w-10 h-10 border-2 border-white shadow-sm",children:[e.jsx(is,{src:c,alt:"Chef"}),e.jsx(ls,{children:"CH"})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold font-serif leading-none text-white drop-shadow-md w-min whitespace-normal",children:a}),e.jsxs("div",{className:"flex items-center gap-1 bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/10 shrink-0",children:[e.jsx(fe,{className:"w-3.5 h-3.5 text-green-400"}),e.jsx("span",{className:"text-white text-xs font-medium whitespace-nowrap",children:r})]})]}),e.jsx("p",{className:"text-gray-200 text-sm font-medium truncate drop-shadow-sm",children:t})]})]})}function O({icon:a,title:t,description:s}){return e.jsxs("div",{className:"flex flex-col items-start p-5 bg-white rounded-2xl border border-gray-100 shadow-sm w-full text-left hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"mb-4",children:a}),e.jsx("span",{className:"font-bold text-gray-800 text-sm mb-1",children:t}),s&&e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:s})]})}const ve=["https://images.unsplash.com/photo-1513104890138-7c749659a591?w=400","https://images.unsplash.com/photo-1557796058-51ddf758f17b?w=400","https://images.unsplash.com/photo-1625937751876-4515cd8e78bd?w=400"];function ms(a){if(!a)return"Open now";const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],r=a[s];return!r||r.length===0?"Closed today":`${r[0].open} - ${r[0].close}`}function hs({onViewAllClick:a,onRestaurantClick:t,onAmenitiesClick:s,onSupportClick:r,locationId:c=1,locationData:n}){const[m,u]=l.useState([]),[f,x]=l.useState(!n);return l.useEffect(()=>{if(n!=null&&n.restaurants){u(n.restaurants.slice(0,2)),x(!1);return}(async()=>{try{const g=await fetch(`${Y}/api/guest/locations/${c}/restaurants`);if(g.ok){const o=await g.json();u(o.slice(0,2))}}catch(g){console.error("Failed to fetch restaurants:",g)}finally{x(!1)}})()},[c,n]),e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-left duration-300",children:[e.jsxs("section",{className:"mt-4 text-center space-y-2",children:[e.jsxs("h1",{className:"text-4xl font-serif text-gray-900 text-[32px]",children:["Hello, I'm ",e.jsx("span",{className:"font-bold italic",children:"Simon"})]}),e.jsx("p",{className:"text-gray-500 leading-tight max-w-xs mx-auto text-[11px] -mt-1",children:"Your personal AI concierge. I have curated the finest local chefs and exclusive services for your stay."})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold font-serif text-gray-900",children:"The Best Local Kitchens"}),e.jsx("button",{onClick:a,className:"text-gray-400 text-xs font-medium hover:text-gray-600 transition-colors cursor-pointer",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ge,{className:"w-6 h-6 text-gray-400 animate-spin"})}):m.length>0?m.map((d,g)=>{const o=d.itemCount||d.menuItemCount||0;return e.jsx(Ze,{title:d.name,subtitle:`${o} items available`,image:ve[g%ve.length],time:ms(d.hours),onClick:()=>t(d.id.toString(),d.name)},d.id)}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No restaurants available"})})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold font-serif text-gray-900",children:"Amenities"}),e.jsx("button",{onClick:s,className:"text-gray-400 text-xs font-medium hover:text-gray-600 transition-colors cursor-pointer",children:"View All"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(_e,{className:"w-5 h-5"})}),title:"Private TV with Cable",description:"Enjoy your favorite shows and channels"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(Le,{className:"w-5 h-5"})}),title:"Free Wi-Fi",description:"Stay connected throughout your stay"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-50 flex items-center justify-center text-sky-600",children:e.jsx(Oe,{className:"w-5 h-5"})}),title:"Mini-Fridge",description:"Store snacks and beverages"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-600",children:e.jsx(Ae,{className:"w-5 h-5"})}),title:"Microwave",description:"Heat meals and snacks in your room"})]}),e.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-5 bg-white rounded-2xl border border-gray-100 shadow-sm hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 shrink-0",children:e.jsx(At,{className:"w-6 h-6"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Contact Support"}),e.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"We're here to help 24/7"})]})]}),e.jsx($t,{className:"w-5 h-5 text-gray-400"})]})]})]})}const we=["https://images.unsplash.com/photo-1574126154517-d1e0d89e7344?w=400","https://images.unsplash.com/photo-1557796058-51ddf758f17b?w=400","https://images.unsplash.com/photo-1625937751876-4515cd8e78bd?w=400","https://images.unsplash.com/photo-1579751626657-72bc17010498?w=400","https://images.unsplash.com/photo-1624340209404-4f479dd59708?w=400"];function us(a,t="America/Los_Angeles"){if(!a)return"Hours not available";const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],r=Ke(t),c=s[r.day],n=a[c];return!n||n.length===0?"Closed today":`${n[0].open} - ${n[0].close}`}function Ne(a){const t=a.toLowerCase().trim(),s=t.includes("pm"),r=t.includes("am"),c=t.replace(/\s*(am|pm)\s*/i,"").trim(),[n,m]=c.split(":");let u=parseInt(n,10);const f=parseInt(m,10)||0;return s&&u!==12?u+=12:r&&u===12&&(u=0),u*60+f}function Ke(a){const t=new Date,s=new Date(t.toLocaleString("en-US",{timeZone:a}));return{day:s.getDay(),hours:s.getHours(),minutes:s.getMinutes()}}function ke(a,t="America/Los_Angeles"){if(!a)return!0;const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],r=Ke(t),c=s[r.day],n=a[c];if(!n||n.length===0)return!1;const m=r.hours*60+r.minutes;return n.some(u=>{const f=Ne(u.open),x=Ne(u.close);return m>=f&&m<=x})}function xs({onBack:a,onRestaurantClick:t,locationId:s=1,locationData:r}){const[c,n]=l.useState([]),[m,u]=l.useState(!r),[f,x]=l.useState(null),[d,g]=l.useState(""),[o,j]=l.useState(!1);l.useEffect(()=>{if(r!=null&&r.restaurants){n(r.restaurants),u(!1);return}(async()=>{u(!0),x(null);try{const S=await fetch(`${Y}/api/guest/locations/${s}/restaurants`);if(!S.ok)throw new Error("Failed to fetch restaurants");const k=await S.json();n(k)}catch(S){console.error("Failed to fetch restaurants:",S),x(S.message)}finally{u(!1)}})()},[s,r]);const i=(r==null?void 0:r.timezone)||"America/Los_Angeles",w=l.useMemo(()=>c.filter(b=>!(d&&!b.name.toLowerCase().includes(d.toLowerCase())||o&&!ke(b.hours,i))),[c,d,o,i]),p=r==null?void 0:r.name;return e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right duration-300 pt-4 pb-20",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("button",{onClick:a,className:"absolute left-0 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer z-10",children:e.jsx(G,{className:"w-5 h-5 text-gray-800"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold font-serif text-gray-900",children:"Restaurants"}),p&&e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:p})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:d,onChange:b=>g(b.target.value),placeholder:"Search restaurants...",className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500"}),d&&e.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600",children:e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:e.jsx("button",{onClick:()=>j(!o),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${o?"bg-orange-500 text-white":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"Open Now"})}),m&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(ge,{className:"w-8 h-8 text-gray-400 animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading restaurants..."})]}),f&&!m&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{children:"Couldn't load restaurants"}),e.jsx("p",{className:"text-sm mt-2",children:f})]}),!m&&!f&&c.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{children:"No restaurants available right now"})}),!m&&!f&&w.length===0&&c.length>0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{children:"No restaurants match your search"}),e.jsx("button",{onClick:()=>{g(""),j(!1)},className:"text-orange-500 font-medium mt-2",children:"Clear filters"})]}),!m&&!f&&w.length>0&&e.jsx("div",{className:"space-y-3",children:w.map((b,S)=>{const k=b.itemCount||b.menuItemCount||0,I=ke(b.hours,i),h=b.imageUrl||we[S%we.length];return e.jsx(Ze,{title:b.name,subtitle:`${k} items ${I?"":"• Closed"}`,image:h,time:us(b.hours,i),onClick:()=>t(b.id.toString(),b.name)},b.id)})})]})}function fs({item:a,onClose:t,onAddToCart:s}){const[r,c]=l.useState(1),[n,m]=l.useState({}),u=o=>{m(j=>({...j,[o]:!j[o]}))},f=()=>{let o=a.price;return a.modifiers&&a.modifiers.forEach(j=>{j.options.forEach(i=>{n[`${j.name}-${i.name}`]&&(o+=i.price)})}),(o*r).toFixed(2)},d=(()=>{if(!a.modifiers)return!0;for(const o of a.modifiers)if(o.required){const j=o.minSelections||1;if(o.options.filter(w=>n[`${o.name}-${w.name}`]).length<j)return!1}return!0})(),g=o=>o.options.filter(j=>n[`${o.name}-${j.name}`]).length;return e.jsxs("div",{className:"fixed inset-0 h-[100dvh] bg-white z-50 flex flex-col animate-in slide-in-from-bottom duration-300",children:[e.jsxs("div",{className:"relative h-48 shrink-0",children:[e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:t,className:"absolute top-4 right-4 w-10 h-10 bg-black/50 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-50 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[e.jsxs("div",{className:"bg-white p-4 pb-5 rounded-b-xl shadow-sm mb-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold font-serif text-gray-900 leading-tight flex-1 mr-4",children:a.title}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",a.price.toFixed(2)]})]}),e.jsx("p",{className:"text-gray-500 leading-relaxed text-sm",children:a.description})]}),a.modifiers&&a.modifiers.length>0&&e.jsx("div",{className:"p-4 space-y-5 pb-32",children:a.modifiers.map((o,j)=>{const i=g(o),w=o.minSelections||1,p=!o.required||i>=w;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-500 tracking-wider uppercase",children:o.name}),o.required&&e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${p?"bg-green-100 text-green-700":"bg-red-100 text-red-600"}`,children:p?"✓ Required":`Select ${w}`})]}),e.jsx("div",{className:"space-y-2",children:o.options.map((b,S)=>{const k=`${o.name}-${b.name}`,I=n[k];return e.jsxs("div",{onClick:()=>u(k),className:"bg-white p-3 rounded-lg border border-gray-100 shadow-sm flex items-center justify-between cursor-pointer active:scale-[0.99] transition-transform",children:[e.jsxs("span",{className:"font-medium text-gray-900 text-sm",children:[b.name," ",b.price>0&&`(+$${b.price})`]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${I?"border-black bg-black":"border-gray-200"}`,children:I&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},S)})})]},j)})})]}),e.jsx("div",{className:"bg-white border-t border-gray-100 p-3 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 border border-gray-200 rounded-full px-2 h-10 shrink-0",children:[e.jsx("button",{onClick:()=>r>1&&c(o=>o-1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 disabled:opacity-50",disabled:r<=1,children:e.jsx(ze,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-base font-bold w-4 text-center",children:r}),e.jsx("button",{onClick:()=>c(o=>o+1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100",children:e.jsx(me,{className:"w-3 h-3"})})]}),e.jsx(V,{className:`flex-1 h-10 rounded-full text-base font-bold ${d?"bg-black text-white hover:bg-gray-800":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!d,onClick:()=>{d&&(s?s(r,n):t())},children:d?`Add to Cart $${f()}`:"Select required options"})]})})]})}function gs(a){var s;const t=(s=a.modifiers)==null?void 0:s.map(r=>({name:r.name,required:r.required,options:r.options.map(c=>({name:c.name,price:c.price}))}));return{id:a.id,title:a.name,description:a.description||"",price:a.price,category:a.category,image:a.image||"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=400&h=300&fit=crop",modifiers:t}}function ps({onBack:a,restaurantName:t="Restaurant",restaurantId:s="1",onAddToCart:r,cartItemCount:c=0,onViewCart:n}){const[m,u]=l.useState("All"),[f,x]=l.useState(null),[d,g]=l.useState([]),[o,j]=l.useState(["All"]),[i,w]=l.useState(!0),[p,b]=l.useState(null),[S,k]=l.useState(t);l.useEffect(()=>{(async()=>{w(!0),b(null);try{const N=await fetch(`${Y}/api/guest/restaurants/${s}/menu`);if(!N.ok)throw new Error(`Failed to fetch menu: ${N.statusText}`);const $=await N.json(),F=$.items.map(gs);g(F),j(["All",...$.categories]),k($.restaurantName)}catch(N){console.error("Failed to fetch menu:",N),b(N.message||"Failed to load menu")}finally{w(!1)}})()},[s]);const I=l.useMemo(()=>m==="All"?d:d.filter(h=>h.category===m),[m,d]);return e.jsxs("div",{className:"bg-white min-h-screen animate-in fade-in slide-in-from-right duration-300 pb-24",children:[e.jsxs("div",{className:"relative h-48 w-full",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1481070414801-51fd732d7184?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZWxpJTIwc2FuZHdpY2h8ZW58MXx8fHwxNzY4MjUyMjg1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Restaurant Header",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),e.jsx("button",{onClick:a,className:"absolute top-6 left-6 text-white hover:text-gray-200 transition-colors z-10",children:e.jsx(G,{className:"w-6 h-6 shadow-sm"})}),e.jsxs("button",{onClick:n,className:"absolute top-6 right-6 w-10 h-10 bg-black/20 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-black/30 transition-colors z-10",children:[e.jsx($e,{className:"w-5 h-5"}),c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-white text-black text-[10px] font-bold rounded-full flex items-center justify-center shadow-sm",children:c})]}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:e.jsx("div",{className:"flex justify-between items-end",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-white mb-1",children:S}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"25-35 min delivery"})]})]})})})]}),i&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(ge,{className:"w-8 h-8 text-gray-400 animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading menu..."})]}),p&&!i&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[e.jsx(ut,{className:"w-10 h-10 text-red-400 mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Couldn't load menu"}),e.jsx("p",{className:"text-gray-500 text-sm text-center",children:p})]}),!i&&!p&&e.jsx("div",{className:"px-6 py-4 flex gap-3 overflow-x-auto scrollbar-hide border-b border-gray-100 sticky top-0 bg-white z-10",children:o.map(h=>e.jsx("button",{onClick:()=>u(h),className:`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${m===h?"bg-black text-white":"border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:h},h))}),!i&&!p&&e.jsx("div",{className:"p-6 space-y-6",children:I.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No items in this category"}):I.map(h=>{var N;return e.jsxs("div",{className:"flex gap-4 cursor-pointer hover:bg-gray-50 rounded-xl transition-colors p-2 -mx-2",onClick:()=>x(h),children:[e.jsx("div",{className:"w-24 h-24 shrink-0 rounded-xl overflow-hidden bg-gray-100",children:e.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-serif font-bold text-gray-900 text-lg leading-tight",children:h.title}),e.jsx("p",{className:"text-gray-500 text-xs mt-1 line-clamp-2 leading-relaxed",children:h.description})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("span",{className:"font-bold text-gray-900",children:["$",h.price.toFixed(2)]}),e.jsx("button",{className:"bg-black text-white text-[10px] font-bold px-4 py-1.5 rounded-full uppercase tracking-wider hover:bg-gray-800 transition-colors z-10 relative",onClick:$=>{var F;$.stopPropagation(),(((F=h.modifiers)==null?void 0:F.length)??0)>0?x(h):r==null||r(h,1,{},s)},children:(((N=h.modifiers)==null?void 0:N.length)??0)>0?"Customize":"Add"})]})]})]},h.id)})}),f&&e.jsx(fs,{item:f,onClose:()=>x(null),onAddToCart:(h,N)=>{r==null||r(f,h,N,s),x(null)}})]})}const bs=["drinks","beverages","sides","desserts","extras","snacks","add-ons"];function ys({cartItems:a,onBack:t,onClearCart:s,onUpdateQuantity:r,onRemoveItem:c,onCheckout:n,onAddUpsellItem:m}){const[u,f]=l.useState([]),x=a.length>0?a[0].restaurantId:null,d=new Set(a.map(p=>p.menuItem.id));l.useEffect(()=>{if(!x){f([]);return}(async()=>{try{const b=await fetch(`${Y}/api/guest/restaurants/${x}/menu`);if(!b.ok)return;const I=((await b.json()).items||[]).filter(h=>{const N=d.has(h.id),$=!!h.image,F=h.price<=10,B=(h.category||"").toLowerCase(),K=bs.some(X=>B.includes(X));return $&&F&&!N&&(K||h.price<=6)}).map(h=>({id:h.id,title:h.name,price:h.price,image:h.image})).slice(0,5);f(I)}catch(b){console.error("Failed to fetch upsell items:",b)}})()},[x,a.length]);const g=a.reduce((p,b)=>p+b.totalPrice,0),o=g*.1,j=5,i=g*.08,w=g+o+j+i;return e.jsxs("div",{className:"bg-white min-h-screen flex flex-col font-sans animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 sticky top-0 bg-white z-10",children:[e.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full border border-gray-100 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(G,{className:"w-5 h-5 text-gray-900"})}),e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-900",children:"Your Tray"}),e.jsx("button",{onClick:s,className:"text-sm font-medium text-gray-500 hover:text-gray-900",children:"Clear"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto pb-32",children:[e.jsx("div",{className:"p-6 space-y-6",children:a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{children:"Your tray is empty."}),e.jsx(V,{onClick:t,variant:"link",className:"mt-2",children:"Go to Menu"})]}):a.map(p=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 shrink-0 rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:p.menuItem.image,alt:p.menuItem.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-serif font-bold text-gray-900 leading-tight pr-4",children:p.menuItem.title}),e.jsxs("span",{className:"font-bold text-gray-900 text-sm",children:["$",p.totalPrice.toFixed(2)]})]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:Object.keys(p.selectedModifiers).length>0&&e.jsx("span",{className:"line-clamp-1",children:Object.keys(p.selectedModifiers).map(b=>b.split("-")[1]).join(", ")})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 border border-gray-200 rounded-md px-2 py-1",children:[e.jsx("button",{onClick:()=>r(p.uniqueId,-1),className:"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded disabled:opacity-50",disabled:p.quantity<=1,children:e.jsx(ze,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-sm font-bold w-4 text-center",children:p.quantity}),e.jsx("button",{onClick:()=>r(p.uniqueId,1),className:"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded",children:e.jsx(me,{className:"w-3 h-3"})})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c(p.uniqueId),className:"text-gray-400 hover:text-red-500",children:e.jsx(ft,{className:"w-4 h-4"})})]})]})]},p.uniqueId))}),u.length>0&&e.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[e.jsx("h2",{className:"px-6 text-lg font-bold font-serif text-gray-900 mb-4",children:"Forgot Something?"}),e.jsx("div",{className:"flex gap-4 overflow-x-auto px-6 pb-6 scrollbar-hide",children:u.map(p=>e.jsxs("div",{className:"w-32 shrink-0 border border-gray-100 rounded-xl p-3 flex flex-col items-start gap-2 bg-white shadow-sm",children:[e.jsx("div",{className:"w-full h-20 rounded-lg overflow-hidden bg-gray-100 relative",children:p.image&&e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("h3",{className:"font-bold text-xs text-gray-900 leading-tight mb-1 truncate",children:p.title}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["$",p.price]}),e.jsx("button",{onClick:()=>m&&m(p),className:"w-6 h-6 bg-black text-white rounded-full flex items-center justify-center hover:bg-gray-800",children:e.jsx(me,{className:"w-3 h-3"})})]})]})]},p.id))})]}),e.jsxs("div",{className:"px-6 py-6 border-t border-gray-100 bg-gray-50/50 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",g.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Taxes & Fees"}),e.jsxs("span",{children:["$",(o+i).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{children:["$",j.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-3 border-t border-gray-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",w.toFixed(2)]})]})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-6 z-20",children:e.jsxs(V,{className:"w-full h-12 rounded-full bg-black text-white text-lg font-bold hover:bg-gray-800",onClick:n,children:["Proceed to Checkout ",e.jsx(G,{className:"w-4 h-4 rotate-180 ml-2"})]})})]})}function js(a){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a))}Array(12).fill(0);let ue=1;class vs{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...c}=t,n=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ue++,m=this.toasts.find(f=>f.id===n),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),m?this.toasts=this.toasts.map(f=>f.id===n?(this.publish({...f,...t,id:n,title:r}),{...f,...t,id:n,dismissible:u,title:r}):f):this.addToast({title:r,...c,dismissible:u,id:n}),n},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const c=Promise.resolve(t instanceof Function?t():t);let n=r!==void 0,m;const u=c.then(async x=>{if(m=["resolve",x],te.isValidElement(x))n=!1,this.create({id:r,type:"default",message:x});else if(Ns(x)&&!x.ok){n=!1;const g=typeof s.error=="function"?await s.error(`HTTP error! status: ${x.status}`):s.error,o=typeof s.description=="function"?await s.description(`HTTP error! status: ${x.status}`):s.description,i=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:o,...i})}else if(x instanceof Error){n=!1;const g=typeof s.error=="function"?await s.error(x):s.error,o=typeof s.description=="function"?await s.description(x):s.description,i=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:o,...i})}else if(s.success!==void 0){n=!1;const g=typeof s.success=="function"?await s.success(x):s.success,o=typeof s.description=="function"?await s.description(x):s.description,i=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:o,...i})}}).catch(async x=>{if(m=["reject",x],s.error!==void 0){n=!1;const d=typeof s.error=="function"?await s.error(x):s.error,g=typeof s.description=="function"?await s.description(x):s.description,j=typeof d=="object"&&!te.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:g,...j})}}).finally(()=>{n&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),f=()=>new Promise((x,d)=>u.then(()=>m[0]==="reject"?d(m[1]):x(m[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(t,s)=>{const r=(s==null?void 0:s.id)||ue++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const R=new vs,ws=(a,t)=>{const s=(t==null?void 0:t.id)||ue++;return R.addToast({title:a,...t,id:s}),s},Ns=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",ks=ws,Cs=()=>R.toasts,Ss=()=>R.getActiveToasts(),L=Object.assign(ks,{success:R.success,info:R.info,warning:R.warning,error:R.error,custom:R.custom,message:R.message,promise:R.promise,dismiss:R.dismiss,loading:R.loading},{getHistory:Cs,getToasts:Ss});js("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ce=[{label:"15%",percent:.15},{label:"18%",percent:.18},{label:"20%",percent:.2},{label:"Custom",percent:null}];function $s({cartItems:a,onBack:t,onPlaceOrder:s,restaurantId:r,locationId:c=1}){const[n,m]=l.useState("101"),[u,f]=l.useState("Smith"),[x,d]=l.useState("Test"),[g,o]=l.useState("(310) 555-1234"),[j,i]=l.useState("test@example.com"),[w,p]=l.useState("4242 4242 4242 4242"),[b,S]=l.useState("12/28"),[k,I]=l.useState("123"),[h,N]=l.useState("90291"),[$,F]=l.useState(1),[B,K]=l.useState(""),[X,se]=l.useState(!1),[D,ae]=l.useState(null);l.useEffect(()=>{(async()=>{var Q;const z=r||((Q=a[0])==null?void 0:Q.restaurantId);if(z)try{const J=await fetch(`${Y}/api/guest/restaurants/${z}`);if(J.ok){const be=await J.json();ae(be)}}catch(J){console.error("Failed to fetch restaurant details:",J)}})()},[r,a]);const y=a.reduce((v,z)=>v+z.totalPrice,0),C=y*.1,T=5,E=y*.08,_=Ce[$],W=_!=null&&_.percent?y*_.percent:parseFloat(B)||0,H=y+C+T+E+W,q=async()=>{var v;if(!x||!u||!g||!j){L.error("Please fill in all guest details");return}if(!w||!b||!k||!h){L.error("Please enter all payment information");return}if(!(D!=null&&D.toastUrl)){L.error("Restaurant not configured for ordering");return}se(!0),L.info("Placing your order... This may take a minute.");try{const z=a.map(Z=>({name:Z.menuItem.title,quantity:Z.quantity,price:Z.totalPrice/Z.quantity,modifiers:Object.keys(Z.selectedModifiers).filter(ee=>Z.selectedModifiers[ee]).map(ee=>{const ye=ee.indexOf("-");return ye>-1?ee.substring(ye+1):ee})})),Q=g.replace(/\D/g,""),le=(await(await fetch(`${Y}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location_id:c,restaurant_id:parseInt(r||((v=a[0])==null?void 0:v.restaurantId)||"0"),guest_first_name:x,guest_last_name:u,guest_phone:Q,guest_email:j,items:z,order_total:H})})).json()).id;le||console.warn("No tracked order ID returned, continuing without tracking");const Qe=b.replace("/",""),Je=w.replace(/[\s-]/g,""),re=D.deliveryAddress||{street:"123 Main St",city:"Los Angeles",state:"CA",zip:"90291"},ce=await(await fetch(`${Y}/api/place-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantUrl:D.toastUrl,items:z,customer:{firstName:x,lastName:u,email:j,phone:Q},payment:{cardNumber:Je,expiry:Qe,cvv:k,zip:h},orderType:"delivery",deliveryAddress:{street:re.street,city:re.city,state:re.state,zip:re.zip,apt:`Room ${n}`},dryRun:!0,trackedOrderId:le})})).json();ce.success?(L.success(ce.message||"Order placed successfully!"),s(le)):L.error(ce.message||"Failed to place order")}catch(z){console.error("Order error:",z),L.error("Failed to connect to order service")}finally{se(!1)}};return e.jsxs("div",{className:"bg-white min-h-screen flex flex-col font-sans animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 sticky top-0 bg-white z-10",children:[e.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full border border-gray-100 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(G,{className:"w-5 h-5 text-gray-900"})}),e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-900",children:"Checkout"}),e.jsx("div",{className:"w-10"})," "]}),e.jsxs("div",{className:"flex-1 overflow-y-auto pb-32 p-6 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-4",children:"Guest Details"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"room",className:"text-xs font-bold text-gray-500",children:"Room #"}),e.jsx(A,{id:"room",value:n,onChange:v=>m(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"firstname",className:"text-xs font-bold text-gray-500",children:"First Name"}),e.jsx(A,{id:"firstname",value:x,onChange:v=>d(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"lastname",className:"text-xs font-bold text-gray-500",children:"Last Name"}),e.jsx(A,{id:"lastname",value:u,onChange:v=>f(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"phone",className:"text-xs font-bold text-gray-500",children:"Phone"}),e.jsx(A,{id:"phone",placeholder:"(310) 555-1234",value:g,onChange:v=>o(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"email",className:"text-xs font-bold text-gray-500",children:"Email"}),e.jsx(A,{id:"email",placeholder:"guest@hotel.com",value:j,onChange:v=>i(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-base"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-4",children:"Payment Method"}),e.jsxs("div",{className:"border border-black rounded-xl p-4 relative",children:[e.jsx("div",{className:"absolute top-4 right-4 bg-black text-white rounded-full w-5 h-5 flex items-center justify-center",children:e.jsx(gt,{className:"w-3 h-3"})}),e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Et,{className:"w-6 h-6 text-gray-900"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Credit Card"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Secure checkout"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(A,{placeholder:"Card Number",value:w,onChange:v=>p(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-sm"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(A,{placeholder:"MM/YY",value:b,onChange:v=>S(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-sm"}),e.jsx(A,{placeholder:"CVC",value:k,onChange:v=>I(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-sm"}),e.jsx(A,{placeholder:"ZIP",value:h,onChange:v=>N(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-sm"})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-4",children:"Add a Tip"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:Ce.map((v,z)=>e.jsx("button",{onClick:()=>F(z),className:`py-3 rounded-xl text-sm font-bold transition-colors ${$===z?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.label))}),$===3&&e.jsx(A,{type:"number",placeholder:"Enter custom amount",value:B,onChange:v=>K(v.target.value),className:"bg-gray-50 border-gray-100 h-12 text-base"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Tip goes directly to your delivery driver"})]}),e.jsxs("section",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"text-gray-900",children:["$",y.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Service Fee"}),e.jsxs("span",{className:"text-gray-900",children:["$",C.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsxs("span",{className:"text-gray-900",children:["$",T.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax"}),e.jsxs("span",{className:"text-gray-900",children:["$",E.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tip"}),e.jsxs("span",{className:"text-gray-900",children:["$",W.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-base pt-2 border-t border-gray-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",H.toFixed(2)]})]})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center leading-relaxed px-4",children:"By placing this order, you agree to the hotel dining terms and conditions."})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-6 z-20",children:e.jsx(V,{className:"w-full h-12 rounded-full bg-black text-white text-lg font-bold hover:bg-gray-800 flex justify-between px-6 disabled:opacity-50",onClick:q,disabled:X,children:X?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5 animate-spin"}),"Placing Order..."]}),e.jsxs("span",{children:["$",H.toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Place Order"}),e.jsxs("span",{children:["$",H.toFixed(2)]})]})})})]})}function Is({onBack:a}){return e.jsxs("div",{className:"p-6 space-y-6 bg-white min-h-full animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:a,className:"w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:e.jsx(G,{className:"w-5 h-5 text-gray-900"})}),e.jsx("h1",{className:"flex-1 text-center pr-14 text-2xl font-serif font-bold text-gray-900",children:"Amenities"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:e.jsx(_e,{className:"w-5 h-5"})}),title:"Private TV with Cable",description:"Enjoy your favorite shows and channels"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:e.jsx(Le,{className:"w-5 h-5"})}),title:"Free Wi-Fi",description:"Stay connected throughout your stay"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600",children:e.jsx(Me,{className:"w-5 h-5"})}),title:"Telephone",description:"In-room phone for your convenience"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 flex items-center justify-center text-teal-600",children:e.jsx(Dt,{className:"w-5 h-5"})}),title:"Shampoo & Conditioner",description:"Complimentary toiletries in shower dispenser"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center text-orange-600",children:e.jsx(Ut,{className:"w-5 h-5"})}),title:"Clothes Rack",description:"Hang and organize your wardrobe"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-50 flex items-center justify-center text-sky-600",children:e.jsx(Oe,{className:"w-5 h-5"})}),title:"Mini-Fridge",description:"Store snacks and beverages"}),e.jsx(O,{icon:e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-600",children:e.jsx(Ae,{className:"w-5 h-5"})}),title:"Microwave",description:"Heat meals and snacks in your room"})]})]})}function Ts({className:a,...t}){return e.jsx("textarea",{"data-slot":"textarea",className:P("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...t})}function Ms({onBack:a,onSubmit:t}){return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[e.jsxs("div",{className:"bg-white p-4 flex items-center shadow-sm sticky top-0 z-10",children:[e.jsx(V,{variant:"ghost",size:"icon",onClick:a,className:"mr-2",children:e.jsx(G,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-xl font-bold font-serif",children:"Contact Support"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(pt,{children:[e.jsxs(bt,{children:[e.jsx(yt,{children:"Get in Touch"}),e.jsx(jt,{children:"We're here to help with any questions about your order or experience."})]}),e.jsxs(vt,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"name",children:"Name"}),e.jsx(A,{id:"name",placeholder:"Your name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"email",children:"Email"}),e.jsx(A,{id:"email",type:"email",placeholder:"your@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"message",children:"Message"}),e.jsx(Ts,{id:"message",placeholder:"How can we help you?",className:"min-h-[100px]"})]}),e.jsx(V,{className:"w-full bg-black hover:bg-gray-800 text-white",onClick:()=>t({}),children:"Send Message"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Other Ways to Reach Us"}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 bg-white p-4 rounded-lg shadow-sm border",children:[e.jsx(Me,{className:"h-5 w-5 text-gray-900"}),e.jsx("span",{children:"954-552-8032"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 bg-white p-4 rounded-lg shadow-sm border",children:[e.jsx(wt,{className:"h-5 w-5 text-gray-900"}),e.jsx("span",{children:"support@meetsimon.ai"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 bg-white p-4 rounded-lg shadow-sm border",children:[e.jsx(Fe,{className:"h-5 w-5 text-gray-900"}),e.jsx("span",{children:"2210 broadway Santa Monica"})]})]})]})]})}const de=["pending","confirmed","preparing","driver_assigned","en_route","delivered"],ne={pending:{label:"Order Placed",icon:e.jsx(Re,{className:"w-5 h-5"}),description:"Your order has been received"},confirmed:{label:"Confirmed",icon:e.jsx(oe,{className:"w-5 h-5"}),description:"Restaurant has confirmed your order"},preparing:{label:"Preparing",icon:e.jsx(Tt,{className:"w-5 h-5"}),description:"Your food is being prepared"},driver_assigned:{label:"Driver Assigned",icon:e.jsx(Nt,{className:"w-5 h-5"}),description:"A driver has picked up your order"},en_route:{label:"On the Way",icon:e.jsx(Fe,{className:"w-5 h-5"}),description:"Your order is on its way to you"},delivered:{label:"Delivered",icon:e.jsx(oe,{className:"w-5 h-5"}),description:"Your order has been delivered"},failed:{label:"Issue",icon:e.jsx(he,{className:"w-5 h-5"}),description:"There was an issue with your order"}};function Se(a){return new Date(a).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function Es({orderId:a}){var g,o,j;const[t,s]=l.useState(null),[r,c]=l.useState(!0),[n,m]=l.useState(null),u=async()=>{try{const i=await fetch(`${Y}/api/tracking/${a}`);if(!i.ok)throw i.status===404?new Error("Order not found"):new Error("Failed to load tracking data");const w=await i.json();s(w),m(null)}catch(i){m(i instanceof Error?i.message:"Failed to load")}finally{c(!1)}};if(l.useEffect(()=>{u();const i=setInterval(u,3e4);return()=>clearInterval(i)},[a]),r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Te,{className:"w-8 h-8 animate-spin text-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})});if(n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(he,{className:"w-8 h-8 text-red-500"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600",children:n})]})});if(!t)return null;const f=de.indexOf(t.status),x=t.status==="delivered",d=t.status==="failed";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:[e.jsx("div",{className:"bg-white border-b px-6 py-4",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-gray-900",children:"Simon InHouse"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Order Tracking"})]})]})})}),e.jsxs("div",{className:"max-w-md mx-auto px-6 py-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${x?"bg-green-100":d?"bg-red-100":"bg-orange-100"}`,children:e.jsx("div",{className:x?"text-green-600":d?"text-red-600":"text-orange-600",children:((g=ne[t.status])==null?void 0:g.icon)||e.jsx(he,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((o=ne[t.status])==null?void 0:o.label)||t.status}),e.jsx("p",{className:"text-gray-500 text-sm",children:(j=ne[t.status])==null?void 0:j.description})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:t.confirmationNumber?`Order #${t.confirmationNumber}`:`Order #${t.orderId}`})," ","from ",t.restaurant]}),t.location&&e.jsxs("p",{className:"text-gray-400",children:["Delivery to ",t.location]}),t.estimatedDelivery&&e.jsxs("p",{className:"flex items-center gap-1 mt-1 text-orange-600",children:[e.jsx(fe,{className:"w-4 h-4"}),"ETA: ",t.estimatedDelivery]})]}),t.trackingUrl&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("a",{href:t.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-orange-500 text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[e.jsx(Ee,{className:"w-5 h-5"}),"Track with Delivery Service"]}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Opens the delivery provider's tracking page"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Timeline"}),e.jsx("div",{className:"space-y-0",children:de.map((i,w)=>{const p=f>=w,b=t.status===i,S=t.timeline.find(I=>I.status===i),k=ne[i];return e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${p?b?"bg-orange-500 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-400"} ${b&&!x?"ring-4 ring-orange-100":""}`,children:p&&!b?e.jsx(oe,{className:"w-5 h-5"}):e.jsx("span",{className:"w-5 h-5 flex items-center justify-center",children:k==null?void 0:k.icon})}),w<de.length-1&&e.jsx("div",{className:`w-0.5 h-12 ${f>w?"bg-green-500":"bg-gray-200"}`})]}),e.jsxs("div",{className:"pb-10 flex-1",children:[e.jsx("p",{className:`font-medium ${p?"text-gray-900":"text-gray-400"}`,children:(k==null?void 0:k.label)||i}),S&&e.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[Se(S.timestamp)," - ",S.message]}),!S&&p&&e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:k==null?void 0:k.description})]})]},i)})})]}),t.items.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[t.items.map((i,w)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[i.quantity,"x ",i.name]}),i.price>0&&e.jsxs("span",{className:"text-gray-900",children:["$",(i.price*i.quantity).toFixed(2)]})]},w)),t.orderTotal>0&&e.jsxs("div",{className:"pt-3 border-t flex justify-between font-medium",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",t.orderTotal.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-400",children:[e.jsxs("p",{children:["Last updated: ",Se(t.updatedAt)]}),e.jsx("p",{className:"mt-1",children:"Updates automatically every 30 seconds"})]})]})]})}function Fs({orderId:a,restaurantName:t="the restaurant",onGoHome:s,onTrackOrder:r}){const c=a?`/track/${a}`:null;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-6 py-4",children:e.jsxs("div",{className:"max-w-md mx-auto flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-gray-900",children:"Simon InHouse"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Order Confirmation"})]})]})}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(oe,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold font-serif text-gray-900 mb-3",children:"Order Placed!"}),e.jsxs("p",{className:"text-gray-600 mb-8",children:["Your order from ",t," is being processed. You'll receive updates via SMS."]}),a&&e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Re,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Order"}),e.jsxs("span",{className:"font-bold text-gray-900",children:["#",a]})]})}),e.jsxs("div",{className:"space-y-3",children:[c&&e.jsxs(V,{onClick:r,className:"w-full h-12 rounded-full bg-orange-500 text-white font-bold hover:bg-orange-600 flex items-center justify-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),"Track Your Order"]}),e.jsxs(V,{onClick:s,variant:"outline",className:"w-full h-12 rounded-full border-gray-200 text-gray-700 font-medium hover:bg-gray-50 flex items-center justify-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5"}),"Back to Home"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-8",children:"You can also track your order from your SMS messages"})]})})]})}function As(){const[a,t]=l.useState(["home"]),[s,r]=l.useState(!1),[c,n]=l.useState([]),[m,u]=l.useState({id:"pepes-pizza",name:"Pepe's Pizza"}),[f,x]=l.useState(null),[d,g]=l.useState(null),[o,j]=l.useState(null),[i,w]=l.useState(null),[p,b]=l.useState(!1),[S,k]=l.useState(null),I=l.useRef(null);l.useEffect(()=>{const y=window.location.pathname,C=y.match(/^\/track\/(\d+)$/);if(C){x(parseInt(C[1],10)),t(["tracking"]);return}const T=y.match(/^\/order\/([a-zA-Z0-9-]+)$/);T&&w(T[1])},[]),l.useEffect(()=>{if(!i)return;(async()=>{b(!0),k(null);try{const C=await fetch(`${Y}/api/guest/locations/slug/${i}`);if(!C.ok)throw C.status===404?new Error("Location not found"):new Error("Failed to load location");const T=await C.json();j(T),T.restaurants.length>0&&t(["restaurants"])}catch(C){console.error("Failed to fetch location:",C),k(C.message)}finally{b(!1)}})()},[i]);const h=a[a.length-1],N=y=>{y!==h&&t(C=>[...C,y])},$=()=>{t(y=>y.length>1?y.slice(0,-1):y)},F=()=>{t(["home"])};l.useEffect(()=>{I.current&&(I.current.scrollTop=0)},[h]);const B=(y,C,T,E)=>{if(c.length>0&&c[0].restaurantId!==E){L.error("You can only order from one restaurant at a time. Clear your cart to order from a different place.");return}let _=y.price;y.modifiers&&y.modifiers.forEach(q=>{q.options.forEach(v=>{T[`${q.name}-${v.name}`]&&(_+=v.price)})});const W=_*C,H={uniqueId:Date.now().toString(),menuItem:y,quantity:C,selectedModifiers:T,totalPrice:W,restaurantId:E};n(q=>[...q,H]),L.success("Added to tray"),N("cart")},K=(y,C)=>{n(T=>T.map(E=>{if(E.uniqueId===y){const _=Math.max(1,E.quantity+C);let W=E.menuItem.price;return E.menuItem.modifiers&&E.menuItem.modifiers.forEach(H=>{H.options.forEach(q=>{E.selectedModifiers[`${H.name}-${q.name}`]&&(W+=q.price)})}),{...E,quantity:_,totalPrice:W*_}}return E}))},X=y=>{n(C=>C.filter(T=>T.uniqueId!==y))},se=()=>{n([])},D=y=>{y==="home"?F():y==="restaurants"?N("restaurants"):y==="amenities"?N("amenities"):y==="chat"?r(!0):y==="support"&&N("support")},ae=(y,C)=>{u({id:y,name:C||"Restaurant"}),N("menu")};return h==="tracking"&&f?e.jsx(Es,{orderId:f}):i&&p?e.jsx("div",{className:"h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"S"})}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i&&S?e.jsx("div",{className:"h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-500 text-2xl",children:"!"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Location Not Found"}),e.jsx("p",{className:"text-gray-600",children:S})]})}):e.jsxs("div",{className:"h-screen bg-gray-50/50 font-sans text-gray-900 flex flex-col overflow-hidden",children:[h!=="menu"&&h!=="cart"&&e.jsx("div",{className:"flex-none z-50",children:e.jsx(Qt,{cartCount:c.length,onCartClick:()=>N("cart"),onLogoClick:F,onNavigate:D,locationName:o==null?void 0:o.name})}),e.jsxs("main",{ref:I,className:`flex-1 overflow-y-auto w-full [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none'] ${h==="menu"?"bg-white":""}`,children:[h==="home"&&e.jsx("div",{className:"px-6 max-w-md mx-auto pb-24",children:e.jsx(hs,{onViewAllClick:()=>N("restaurants"),onRestaurantClick:ae,onAmenitiesClick:()=>N("amenities"),onSupportClick:()=>N("support"),locationData:o})}),h==="restaurants"&&e.jsx("div",{className:"px-6 max-w-md mx-auto",children:e.jsx(xs,{onBack:$,onRestaurantClick:ae,locationId:(o==null?void 0:o.id)||1,locationData:o})}),h==="menu"&&e.jsx("div",{className:"max-w-md mx-auto h-full",children:e.jsx(ps,{onBack:$,onAddToCart:B,cartItemCount:c.length,onViewCart:()=>N("cart"),restaurantName:m.name,restaurantId:m.id})}),h==="cart"&&e.jsx("div",{className:"max-w-md mx-auto h-full bg-white",children:e.jsx(ys,{cartItems:c,onBack:$,onClearCart:se,onUpdateQuantity:K,onRemoveItem:X,onCheckout:()=>N("checkout"),onAddUpsellItem:y=>{const C={id:y.id,category:"Upsell",title:y.title,price:y.price,description:"",image:y.image},T=c.length>0?c[0].restaurantId:m.id;B(C,1,{},T)}})}),h==="checkout"&&e.jsx("div",{className:"max-w-md mx-auto h-full bg-white",children:e.jsx($s,{cartItems:c,onBack:$,restaurantId:m.id,locationId:o==null?void 0:o.id,onPlaceOrder:y=>{n([]),y?(g(y),N("confirmation")):F()}})}),h==="confirmation"&&e.jsx(Fs,{orderId:d||void 0,restaurantName:m.name,onGoHome:()=>{g(null),F()},onTrackOrder:()=>{d&&(x(d),g(null),t(["tracking"]))}}),h==="amenities"&&e.jsx("div",{className:"max-w-md mx-auto h-full bg-white",children:e.jsx(Is,{onBack:$})}),h==="support"&&e.jsx("div",{className:"max-w-md mx-auto h-full bg-white",children:e.jsx(Ms,{onBack:$,onSubmit:()=>{L.success("Message sent successfully!"),$()}})})]}),h!=="cart"&&h!=="amenities"&&e.jsx(Jt,{isOpen:s,onOpenChange:r,onNavigate:y=>{r(!1),N(y)}})]})}Ct.createRoot(document.getElementById("root")).render(e.jsx(As,{}));
